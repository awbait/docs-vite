import{_ as s,c as a,o as n,d as p}from"./app.e2e0e07e.js";const h=JSON.parse('{"title":"Build python 3.10.x from source","description":"","frontmatter":{},"headers":[{"level":2,"title":"Build OpenSSL","slug":"build-openssl","link":"#build-openssl","children":[]},{"level":2,"title":"Build Python 3.10.x","slug":"build-python-3-10-x","link":"#build-python-3-10-x","children":[]}],"relativePath":"devops/software/python/python.md","lastUpdated":1665430473000}'),l={name:"devops/software/python/python.md"},e=p(`<h1 id="build-python-3-10-x-from-source" tabindex="-1">Build python 3.10.x from source <a class="header-anchor" href="#build-python-3-10-x-from-source" aria-hidden="true">#</a></h1><h2 id="build-openssl" tabindex="-1">Build OpenSSL <a class="header-anchor" href="#build-openssl" aria-hidden="true">#</a></h2><div class="language-bash"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">wget https://www.openssl.org/source/openssl-1.1.1q.tar.gz</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> /opt</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">tar -xf openssl-1.1.1q.tar.gz</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> openssl-1.1.1q</span></span>
<span class="line"></span></code></pre></div><p>\u041A\u043E\u043D\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u0443\u0435\u043C:</p><div class="language-bash"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">./config --prefix=/opt/openssl --openssldir=/opt/openssl shared zlib</span></span>
<span class="line"></span></code></pre></div><p>\u0421\u043E\u0431\u0438\u0440\u0430\u0435\u043C \u0438 \u0443\u0441\u0442\u0430\u043D\u0430\u0432\u043B\u0438\u0432\u0430\u0435\u043C:</p><div class="language-bash"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">make</span></span>
<span class="line"><span style="color:#A6ACCD;">make install</span></span>
<span class="line"></span></code></pre></div><p>\u0421\u043A\u043E\u0440\u0435\u0435 \u0432\u0441\u0435\u0433\u043E \u043F\u043E\u043D\u0430\u0434\u043E\u0431\u044F\u0442\u0441\u044F \u043A\u0430\u043A\u0438\u0435-\u043B\u0438\u0431\u043E \u0437\u0430\u0432\u0438\u0441\u0438\u043C\u043E\u0441\u0442\u0438</p><h2 id="build-python-3-10-x" tabindex="-1">Build Python 3.10.x <a class="header-anchor" href="#build-python-3-10-x" aria-hidden="true">#</a></h2><p>\u0423\u0441\u0442\u0430\u043D\u0430\u0432\u043B\u0438\u0432\u0430\u0435\u043C \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u044B\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043C\u043E\u0441\u0442\u0438:</p><div class="language-bash"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">yum -y install epel-release</span></span>
<span class="line"><span style="color:#A6ACCD;">yum -y install openssl-devel libffi-devel bzip2-devel</span></span>
<span class="line"><span style="color:#A6ACCD;">yum -y groupinstall </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Development Tools</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><p>\u0421\u043A\u0430\u0447\u0438\u0432\u0430\u0435\u043C \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u0443\u044E \u0432\u0435\u0440\u0441\u0438\u044E:</p><div class="language-bash"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> /opt</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">wget https://www.python.org/ftp/python/3.10.7/Python-3.10.7.tgz</span></span>
<span class="line"></span></code></pre></div><p>\u0420\u0430\u0441\u043F\u0430\u043A\u043E\u0432\u044B\u0432\u0430\u0435\u043C \u0430\u0440\u0445\u0438\u0432:</p><div class="language-bash"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">tar xvf Python-3.10.7.tgz</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> Python-3.10.7</span></span>
<span class="line"></span></code></pre></div><p>\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u0443\u0435\u043C \u043A\u043E\u043D\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044E python</p><div class="language-bash"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">vim Modules/Setup</span></span>
<span class="line"></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>\u0412\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u043D\u044B\u0439 openssl \u043C\u043E\u0436\u043D\u043E \u0443\u043A\u0430\u0437\u0430\u0442\u044C \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043C\u044B, \u043F\u0440\u043E\u0432\u0435\u0440\u0438\u0442\u044C \u043C\u043E\u0436\u043D\u043E \u043A\u043E\u043C\u0430\u043D\u0434\u043E\u0439. \u0418\u043D\u0430\u0447\u0435 \u0443\u0441\u0442\u0430\u043D\u0430\u0432\u043B\u0438\u0432\u0430\u0435\u043C \u043F\u043E \u0438\u043D\u0441\u0442\u0440\u0443\u043A\u0446\u0438\u0438 \u0441\u043D\u0430\u0447\u0430\u043B\u0430 \u043F\u043E\u0441\u0442\u0430.</p><div class="language-bash"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">openssl version -d</span></span>
<span class="line"></span></code></pre></div></div><p>\u041D\u0430\u0445\u043E\u0434\u0438\u043C \u0434\u0430\u043D\u043D\u044B\u0439 \u0431\u043B\u043E\u043A \u043A\u043E\u0434\u0430 \u0438 \u043F\u0440\u0438\u0432\u043E\u0434\u0438\u043C \u043A \u0442\u0430\u043A\u043E\u043C\u0443 \u0432\u0438\u0434\u0443:</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;"># Socket module helper for socket(2)</span></span>
<span class="line"><span style="color:#A6ACCD;">_socket socketmodule.c</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"># Socket module helper for SSL support; you must comment out the other</span></span>
<span class="line"><span style="color:#A6ACCD;"># socket line above, and edit the OPENSSL variable:</span></span>
<span class="line"><span style="color:#A6ACCD;">OPENSSL=/opt/openssl</span></span>
<span class="line"><span style="color:#A6ACCD;"> _ssl _ssl.c \\</span></span>
<span class="line"><span style="color:#A6ACCD;">     -I$(OPENSSL)/include -L$(OPENSSL)/lib \\</span></span>
<span class="line"><span style="color:#A6ACCD;">     -lssl -lcrypto</span></span>
<span class="line"><span style="color:#A6ACCD;">_hashlib _hashopenssl.c \\</span></span>
<span class="line"><span style="color:#A6ACCD;">     -I$(OPENSSL)/include -L$(OPENSSL)/lib \\</span></span>
<span class="line"><span style="color:#A6ACCD;">     -lcrypto</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u043C \u043F\u0435\u0440\u0435\u043C\u0435\u043D\u043D\u0443\u044E:</p><div class="language-bash"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#C792EA;">export</span><span style="color:#A6ACCD;"> LD_LIBRARY_PATH=</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">LD_LIBRARY_PATH</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">:/opt/openssl/lib</span></span>
<span class="line"></span></code></pre></div><p>\u041A\u043E\u043D\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u0443\u0435\u043C \u0441 OpenSSL:</p><div class="language-bash"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">./configure --enable-optimizations --with-openssl=/opt/openssl</span></span>
<span class="line"></span></code></pre></div><p>\u0421\u043E\u0431\u0438\u0440\u0430\u0435\u043C</p><div class="language-bash"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">make altinstall</span></span>
<span class="line"></span></code></pre></div><p>\u041F\u0440\u043E\u0432\u0435\u0440\u0438\u0442\u044C \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D \u043B\u0438 \u043C\u043E\u0434\u0443\u043B\u044C SSL:</p><div class="language-bash"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">python3 -c </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">import ssl; print(ssl.OPENSSL_VERSION)</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><p>\u041F\u0435\u0440\u0435\u043A\u043B\u044E\u0447\u0430\u0435\u043C \u0432\u0435\u0440\u0441\u0438\u0438 \u0434\u043B\u044F \u043A\u043E\u043C\u043C\u0430\u043D\u0434:</p><div class="language-bash"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">ln -fs /usr/local/bin/python3.10 /usr/bin/python3</span></span>
<span class="line"><span style="color:#A6ACCD;">ln -fs /usr/local/bin/pip3.10 /usr/bin/pip3</span></span>
<span class="line"></span></code></pre></div><p>\u0413\u043E\u0442\u043E\u0432\u043E.</p>`,36),o=[e];function c(t,i,r,d,u,b){return n(),a("div",null,o)}const A=s(l,[["render",c]]);export{h as __pageData,A as default};

import{_ as s,c as a,o as n,d as l}from"./app.0ffb1a51.js";const u=JSON.parse('{"title":"Resize LVM Filesystem","description":"","frontmatter":{},"headers":[{"level":3,"title":"1. \u041F\u0440\u043E\u0432\u0435\u0440\u044F\u0435\u043C \u0434\u0438\u0441\u043A \u0438 \u0441\u0442\u0440\u0443\u043A\u0442\u0443\u0440\u0443","slug":"_1-\u043F\u0440\u043E\u0432\u0435\u0440\u044F\u0435\u043C-\u0434\u0438\u0441\u043A-\u0438-\u0441\u0442\u0440\u0443\u043A\u0442\u0443\u0440\u0443","link":"#_1-\u043F\u0440\u043E\u0432\u0435\u0440\u044F\u0435\u043C-\u0434\u0438\u0441\u043A-\u0438-\u0441\u0442\u0440\u0443\u043A\u0442\u0443\u0440\u0443","children":[]},{"level":3,"title":"2. \u0420\u0430\u0441\u0448\u0438\u0440\u044F\u0435\u043C \u0440\u0430\u0437\u043C\u0435\u0440 \u0434\u0438\u0441\u043A\u0430","slug":"_2-\u0440\u0430\u0441\u0448\u0438\u0440\u044F\u0435\u043C-\u0440\u0430\u0437\u043C\u0435\u0440-\u0434\u0438\u0441\u043A\u0430","link":"#_2-\u0440\u0430\u0441\u0448\u0438\u0440\u044F\u0435\u043C-\u0440\u0430\u0437\u043C\u0435\u0440-\u0434\u0438\u0441\u043A\u0430","children":[]},{"level":3,"title":"3. \u0420\u0430\u0441\u0448\u0438\u0440\u044F\u0435\u043C \u043B\u043E\u0433\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u0442\u043E\u043C \u0447\u0442\u043E\u0431\u044B \u043E\u043D \u0437\u0430\u043D\u0438\u043C\u0430\u043B \u0432\u0441\u0435 \u043F\u0440\u043E\u0441\u0442\u0440\u0430\u043D\u0441\u0442\u0432\u043E","slug":"_3-\u0440\u0430\u0441\u0448\u0438\u0440\u044F\u0435\u043C-n\u043E\u0433\u0438\u0447\u0435\u0441\u043A\u0438\u0439-\u0442\u043E\u043C-\u0447\u0442\u043E\u0431\u044B-\u043E\u043D-\u0437\u0430\u043D\u0438\u043C\u0430n-\u0432\u0441\u0435-\u043F\u0440\u043E\u0441\u0442\u0440\u0430\u043D\u0441\u0442\u0432\u043E","link":"#_3-\u0440\u0430\u0441\u0448\u0438\u0440\u044F\u0435\u043C-n\u043E\u0433\u0438\u0447\u0435\u0441\u043A\u0438\u0439-\u0442\u043E\u043C-\u0447\u0442\u043E\u0431\u044B-\u043E\u043D-\u0437\u0430\u043D\u0438\u043C\u0430n-\u0432\u0441\u0435-\u043F\u0440\u043E\u0441\u0442\u0440\u0430\u043D\u0441\u0442\u0432\u043E","children":[]}],"relativePath":"devops/linux/storage/resize-lvm-filesystem.md","lastUpdated":1665442210000}'),p={name:"devops/linux/storage/resize-lvm-filesystem.md"},e=l(`<h1 id="resize-lvm-filesystem" tabindex="-1">Resize LVM Filesystem <a class="header-anchor" href="#resize-lvm-filesystem" aria-hidden="true">#</a></h1><p>\u0423\u0441\u0442\u0430\u043D\u0430\u0432\u043B\u0438\u0432\u0430\u0435\u043C \u0443\u0442\u0438\u043B\u0438\u0442\u0443:</p><div class="language-bash"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">yum install -y cloud-utils-growpart</span></span>
<span class="line"></span></code></pre></div><h3 id="_1-\u043F\u0440\u043E\u0432\u0435\u0440\u044F\u0435\u043C-\u0434\u0438\u0441\u043A-\u0438-\u0441\u0442\u0440\u0443\u043A\u0442\u0443\u0440\u0443" tabindex="-1">1. \u041F\u0440\u043E\u0432\u0435\u0440\u044F\u0435\u043C \u0434\u0438\u0441\u043A \u0438 \u0441\u0442\u0440\u0443\u043A\u0442\u0443\u0440\u0443 <a class="header-anchor" href="#_1-\u043F\u0440\u043E\u0432\u0435\u0440\u044F\u0435\u043C-\u0434\u0438\u0441\u043A-\u0438-\u0441\u0442\u0440\u0443\u043A\u0442\u0443\u0440\u0443" aria-hidden="true">#</a></h3><p>\u0421\u043C\u043E\u0442\u0440\u0438\u043C \u043A\u0430\u043A\u043E\u0439 \u0434\u0438\u0441\u043A \u043D\u0443\u0436\u043D\u043E \u0440\u0430\u0441\u0448\u0438\u0440\u0438\u0442\u044C:</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">[root@test-bi opt]# lsblk</span></span>
<span class="line"><span style="color:#A6ACCD;">NAME \xA0 \xA0 \xA0 \xA0 \xA0 \xA0MAJ:MIN RM \xA0SIZE RO TYPE MOUNTPOINT</span></span>
<span class="line"><span style="color:#A6ACCD;">sda \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 8:0 \xA0 \xA00 \xA0 10G \xA00 disk</span></span>
<span class="line"><span style="color:#A6ACCD;">\u251C\u2500sda1 \xA0 \xA0 \xA0 \xA0 \xA0 \xA08:1 \xA0 \xA00 \xA0 \xA01G \xA00 part /boot</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2514\u2500sda2 \xA0 \xA0 \xA0 \xA0 \xA0 \xA08:2 \xA0 \xA00 \xA0 \xA09G \xA00 part</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \u251C\u2500centos-root 253:0 \xA0 \xA00 \xA08.4G \xA00 lvm \xA0/</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \u2514\u2500centos-swap 253:1 \xA0 \xA00 \xA0616M \xA00 lvm \xA0[SWAP]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u041A\u043E\u043D\u0435\u0432\u0430\u044F \u0441\u0438\u0441\u0442\u0435\u043C\u0430, \u043A\u043E\u0442\u043E\u0440\u0443\u044E \u044F \u0445\u043E\u0447\u0443 \u0440\u0430\u0441\u0448\u0438\u0440\u0438\u0442\u044C \u043D\u0430\u0445\u043E\u0434\u0438\u0442\u0441\u044F \u0432 <em><strong>/dev/sda2</strong></em></p><h3 id="_2-\u0440\u0430\u0441\u0448\u0438\u0440\u044F\u0435\u043C-\u0440\u0430\u0437\u043C\u0435\u0440-\u0434\u0438\u0441\u043A\u0430" tabindex="-1">2. \u0420\u0430\u0441\u0448\u0438\u0440\u044F\u0435\u043C \u0440\u0430\u0437\u043C\u0435\u0440 \u0434\u0438\u0441\u043A\u0430 <a class="header-anchor" href="#_2-\u0440\u0430\u0441\u0448\u0438\u0440\u044F\u0435\u043C-\u0440\u0430\u0437\u043C\u0435\u0440-\u0434\u0438\u0441\u043A\u0430" aria-hidden="true">#</a></h3><p>\u041F\u0440\u043E\u0432\u0435\u0440\u0438\u0442\u044C \u0438\u043C\u0435\u043D\u0430 \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432 SCSI:</p><div class="language-bash"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">ls /sys/class/scsi_device/</span></span>
<span class="line"></span></code></pre></div><p>\u041F\u043E\u043B\u0443\u0447\u0430\u0435\u043C:</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">0:0:0:0 \xA03:0:0:0</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u041D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u043F\u0440\u043E\u0441\u043A\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0448\u0438\u043D\u0443 SCSI (\u043C\u043E\u0436\u043D\u043E \u0437\u0430\u043C\u0435\u043D\u0438\u0442\u044C \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 0:0:0:0, \u0441\u043B\u0435\u0448\u0438 \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u044B):</p><div class="language-bash"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> 1 </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> /sys/class/scsi_device/0\\:0\\:0\\:0/device/rescan</span></span>
<span class="line"></span></code></pre></div><p>\u041F\u0440\u043E\u0432\u0435\u0440\u044F\u0435\u043C:</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">[root@test-bi opt]# lsblk</span></span>
<span class="line"><span style="color:#A6ACCD;">NAME \xA0 \xA0 \xA0 \xA0 \xA0 \xA0MAJ:MIN RM \xA0SIZE RO TYPE MOUNTPOINT</span></span>
<span class="line"><span style="color:#A6ACCD;">sda \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 8:0 \xA0 \xA00 \xA0 30G \xA00 disk</span></span>
<span class="line"><span style="color:#A6ACCD;">\u251C\u2500sda1 \xA0 \xA0 \xA0 \xA0 \xA0 \xA08:1 \xA0 \xA00 \xA0 \xA01G \xA00 part /boot</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2514\u2500sda2 \xA0 \xA0 \xA0 \xA0 \xA0 \xA08:2 \xA0 \xA00 \xA0 \xA09G \xA00 part</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \u251C\u2500centos-root 253:0 \xA0 \xA00 \xA08.4G \xA00 lvm \xA0/</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \u2514\u2500centos-swap 253:1 \xA0 \xA00 \xA0616M \xA00 lvm \xA0[SWAP]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u0420\u0430\u0441\u0448\u0438\u0440\u044F\u0435\u043C:</p><div class="language-bash"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">growpart /dev/sda 2</span></span>
<span class="line"></span></code></pre></div><p>\u041F\u043E\u043B\u0443\u0447\u0430\u0435\u043C:</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">CHANGED: partition=2 start=2099200 old: size=18872320 end=20971520 new: size=60815327 end=62914527</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u041F\u0440\u043E\u0432\u0435\u0440\u044F\u0435\u043C:</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">[root@test-bi opt]# lsblk</span></span>
<span class="line"><span style="color:#A6ACCD;">NAME \xA0 \xA0 \xA0 \xA0 \xA0 \xA0MAJ:MIN RM \xA0SIZE RO TYPE MOUNTPOINT</span></span>
<span class="line"><span style="color:#A6ACCD;">sda \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 8:0 \xA0 \xA00 \xA0 30G \xA00 disk</span></span>
<span class="line"><span style="color:#A6ACCD;">\u251C\u2500sda1 \xA0 \xA0 \xA0 \xA0 \xA0 \xA08:1 \xA0 \xA00 \xA0 \xA01G \xA00 part /boot</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2514\u2500sda2 \xA0 \xA0 \xA0 \xA0 \xA0 \xA08:2 \xA0 \xA00 \xA0 29G \xA00 part</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \u251C\u2500centos-root 253:0 \xA0 \xA00 \xA08.4G \xA00 lvm \xA0/</span></span>
<span class="line"><span style="color:#A6ACCD;">\xA0 \u2514\u2500centos-swap 253:1 \xA0 \xA00 \xA0616M \xA00 lvm \xA0[SWAP]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="_3-\u0440\u0430\u0441\u0448\u0438\u0440\u044F\u0435\u043C-n\u043E\u0433\u0438\u0447\u0435\u0441\u043A\u0438\u0439-\u0442\u043E\u043C-\u0447\u0442\u043E\u0431\u044B-\u043E\u043D-\u0437\u0430\u043D\u0438\u043C\u0430n-\u0432\u0441\u0435-\u043F\u0440\u043E\u0441\u0442\u0440\u0430\u043D\u0441\u0442\u0432\u043E" tabindex="-1">3. \u0420\u0430\u0441\u0448\u0438\u0440\u044F\u0435\u043C \u043B\u043E\u0433\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u0442\u043E\u043C \u0447\u0442\u043E\u0431\u044B \u043E\u043D \u0437\u0430\u043D\u0438\u043C\u0430\u043B \u0432\u0441\u0435 \u043F\u0440\u043E\u0441\u0442\u0440\u0430\u043D\u0441\u0442\u0432\u043E <a class="header-anchor" href="#_3-\u0440\u0430\u0441\u0448\u0438\u0440\u044F\u0435\u043C-n\u043E\u0433\u0438\u0447\u0435\u0441\u043A\u0438\u0439-\u0442\u043E\u043C-\u0447\u0442\u043E\u0431\u044B-\u043E\u043D-\u0437\u0430\u043D\u0438\u043C\u0430n-\u0432\u0441\u0435-\u043F\u0440\u043E\u0441\u0442\u0440\u0430\u043D\u0441\u0442\u0432\u043E" aria-hidden="true">#</a></h3><p>\u0412\u044B\u043F\u043E\u043B\u043D\u044F\u0435\u043C:</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">pvresize /dev/sda2</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">\u041F\u043E\u043B\u0443\u0447\u0438\u043B\u0438:</span></span>
<span class="line"><span style="color:#A6ACCD;">Physical volume &quot;/dev/sda2&quot; changed</span></span>
<span class="line"><span style="color:#A6ACCD;">1 physical volume(s) resized or updated / 0 physical volume(s) not resized</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u041F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u0438\u043C\u044F \u043B\u043E\u0433\u0438\u0447\u0435\u0441\u043A\u043E\u0433\u043E \u0442\u043E\u043C\u0430, \u043A\u043E\u0442\u043E\u0440\u044B\u0439 \u044F \u0431\u0443\u0434\u0443 \u0440\u0430\u0441\u0448\u0438\u0440\u044F\u0442\u044C:</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">df -hT | grep root</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">\u041F\u043E\u043B\u0443\u0447\u0438\u043B\u0438:</span></span>
<span class="line"><span style="color:#A6ACCD;">/dev/mapper/centos-root ext4 \xA0 \xA0 \xA0 28G \xA04.0G \xA0 23G \xA015% /</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u0418\u0437\u043C\u0435\u043D\u044F\u0435\u043C \u0440\u0430\u0437\u043C\u0435\u0440 \u043B\u043E\u0433\u0438\u0447\u0435\u0441\u043A\u043E\u0433\u043E \u0442\u043E\u043C\u0430:</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">lvextend -r -l +100%FREE /dev/mapper/centos-root</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">\u041F\u043E\u043B\u0443\u0447\u0438\u043B\u0438:</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">Size of logical volume centos/root changed from 8.39 GiB (2149 extents) to 28.39 GiB (7269 extents).</span></span>
<span class="line"><span style="color:#A6ACCD;">Logical volume centos/root successfully resized.</span></span>
<span class="line"><span style="color:#A6ACCD;">resize2fs 1.42.9 (28-Dec-2013)</span></span>
<span class="line"><span style="color:#A6ACCD;">Filesystem at /dev/mapper/centos-root is mounted on /; on-line resizing requiredold_desc_blocks = 2, new_desc_blocks = 4</span></span>
<span class="line"><span style="color:#A6ACCD;">The filesystem on /dev/mapper/centos-root is now 7443456 blocks long.</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u0422\u0430\u043A\u0438\u043C \u043E\u0431\u0440\u0430\u0437\u043E\u043C \u043C\u044B \u0440\u0430\u0441\u0448\u0438\u0440\u0438\u043B\u0438 \u043D\u0430\u0448 \u0442\u043E\u043C \u043D\u0430 \u0432\u0441\u0435 \u0441\u0432\u043E\u0431\u043E\u0434\u043D\u043E\u0435 \u043F\u0440\u043E\u0441\u0442\u0440\u0430\u043D\u0441\u0442\u0432\u043E, \u043E\u0434\u043D\u0430\u043A\u043E \u043C\u044B \u043C\u043E\u0436\u0435\u043C \u0440\u0430\u0441\u0448\u0438\u0440\u0438\u0442\u044C \u0435\u0433\u043E \u043D\u0430 \u0437\u0430\u0434\u0430\u043D\u043D\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440 \u043A\u043E\u043C\u0430\u043D\u0434\u043E\u0439:</p><div class="language-bash"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">lvextend -r -L +20G /dev/mapper/centos-root</span></span>
<span class="line"></span></code></pre></div><p>\u0413\u043E\u0442\u043E\u0432\u043E. \u{1F44D}</p>`,32),o=[e];function c(t,r,i,d,A,C){return n(),a("div",null,o)}const v=s(p,[["render",c]]);export{u as __pageData,v as default};
